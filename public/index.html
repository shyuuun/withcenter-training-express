<html>

<head>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
        crossorigin="anonymous">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
    </style>
</head>

<body class="">
    <div id="app">
        <h1 class="bg-blue-500 text-white p-4">
              Hello Express + Vue + TailwindCSS + Bootstrap!
                </h1>

    <a class="m-3" href="abc.html">ABC</a>

    <div class="m-3 alert alert-primary" role="alert">
                  A simple primary alertâ€”check it out!
                </div>
    <div class="m-3">
        {{ message }}
        <hr />
        <button class="btn btn-warning" @click="count++">Add 1</button>
        <p class="mt-5">Count is: {{ count }}</p>

        <button class="btn btn-info" @click="fetchAdd">Reset Count to: 2 + 5</button>

        <hr class="my-5" />
        <button class="btn btn-danger" @click="getUsers">Get user list</button>
        <ul class="list-group mt-3">
            <li class="list-group-item" v-for="user in users" :key="user.id">
              {{ user.id }}:  {{ user.name }}
            </li>
        </ul>
    </div>

    </div>


    <script>
        const { createApp } = Vue

        createApp({
            data() {
                return {
                    message: 'Hello Vue!',
                    count: 1,
                    users: [],
                }
            },
            mounted() {
                console.log('App mounted!')
            },
            methods: {
                async fetchAdd() {
                    const res = await await fetch('/add?a=2&b=5');
                    const data = await res.json();
                    this.count = data.result;
                },
                async getUsers() {
                    const res = await fetch('/api/users');
                    const data = await res.json();
                    this.users = data.users;
                }
            }
        }).mount('#app')
    </script>
</body>

</html>